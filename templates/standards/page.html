{% extends 'base.html' %}
{% block title %}{{ standard.title }} · Page {{ page.page_index }}{% endblock %}
{% block content %}
<div class="flex items-center gap-3 mb-4">
  <a class="text-blue-600" href="{% url 'standards:library' %}">← Back to Library</a>
  <div class="text-sm text-gray-500">{{ standard.title }}</div>
</div>

<div class="bg-white border rounded-xl p-4 shadow-sm">
  <div class="flex items-center justify-between">
    <div class="text-sm text-gray-600">Page {{ page.page_index }}</div>
    <form action="{% url 'standards:toggle_bookmark' page.id %}" method="post">
      {% csrf_token %}
      <input type="hidden" name="next" value="{{ request.get_full_path }}" />
      <button class="px-3 py-1 rounded border {% if has_bookmark %}bg-yellow-100{% endif %}">
        {% if has_bookmark %}Bookmarked{% else %}Bookmark{% endif %}
      </button>
    </form>
  </div>
  <div class="prose max-w-none mt-4 leading-7">{{ html|safe }}</div>
</div>

<div class="flex justify-between mt-4">
  {% if prev_index is not None %}
  <a class="px-3 py-2 border rounded bg-white" href="{% url 'standards:page' standard.slug prev_index %}">← Previous</a>
  {% else %}<span></span>{% endif %}
  {% if next_index is not None %}
  <a class="px-3 py-2 border rounded bg-white" href="{% url 'standards:page' standard.slug next_index %}">Next →</a>
  {% endif %}
  </div>
{% endblock %}


